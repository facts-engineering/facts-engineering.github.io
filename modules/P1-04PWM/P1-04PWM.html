<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>P1-04PWM | P1AM Documentation</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../../styles.css">
    <link rel="stylesheet" type="text/css" href="../../highlight/styles/github.css">

    <script src="../../modules.js"></script>
    <script src="../../main.js"></script>
    <script src="../../highlight/highlight.pack.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
</head>

<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <a id="title" href="https://github.com/facts-engineering/P1AM">P1AM</a>
            <a href="../../index.html">Home</a>
            <a href="../../config.html">Configuration Tool</a>
            <div class="line"></div>
        </div>
        <ul class="sidebar-content"></ul>
    </div>
    <div class="header">
        <h1>P1-04PWM</h1>
        <h2>Pulse Width Modulation Output</h2>
        <div class="line"></div>
    </div>
    <div class="content">
        <div class="description">
            <p>This module can be used to generate up to four PWM signals for use in control applications.</p>
            <p>The following lines assign the duty cycle and frequency we want the P1-04PWM to use to their respective
                variables.</p>
            <div class="code-block">
                <pre><code class="cpp">float dutyCycle = 50.15;
                    int frequency = 10000;
                </code></pre>
            </div>
            <p>Below is a call of the writePWM function in which we specify that we want channel 2 of the P1-04PWM
                module in slot 1 to output a signal with the duty cycle and frequency we specified earlier.</p>
            <div class="code-block">
                <pre><code class="cpp">P1.writePWM(dutyCycle, frequency, 1, 2);</code></pre>
            </div>
        </div>
        <div class="config">
            <h3>Configuration Tool</h3>
            <div class="line"></div>
        </div>
        <div class="compatible">
            <h3>Compatible Functions</h3>
            <div class="line"></div>
            <p>Below are functions compatible with the P1-04PWM.</p>
            <ul>
                <li>
                    <p><b>P1.writePWM()</b></p>
                </li>
                <li>
                    <p><b>P1.writePWMDuty()</b></p>
                </li>
                <li>
                    <p><b>P1.writePWMFreq()</b></p>
                </li>
                <li>
                    <p><b>P1.writePWMDir()</b></p>
                </li>
                <li>
                    <p><b>P1.configureModule()</b></p>
                </li>
                <li>
                    <p><b>P1.readModuleConfig()</b></p>
                </li>
                <li>
                    <p><b>P1.readStatus()</b></p>
                </li>
            </ul>
        </div>
        <div class="status">
            <h3>Module Data</h3>
            <div class="line"></div>
            <p><b>Module Status Data</b></p>
            <table>
                <thead>
                    <tr>
                        <th style="text-align:center">Bytes</th>
                        <th style="text-align:center">(MSB) 7</th>
                        <th style="text-align:center">6</th>
                        <th style="text-align:center">5</th>
                        <th style="text-align:center">4</th>
                        <th style="text-align:center">3</th>
                        <th style="text-align:center">2</th>
                        <th style="text-align:center">1</th>
                        <th style="text-align:center">0 (LSB)</th>
                        <th style="text-align:center">Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="text-align:center">Byte 0</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">bits 0-7 are undefined</td>
                    </tr>
                    <tr>
                        <td style="text-align:center">Byte 1</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">bits 0-7 are undefined</td>
                    </tr>
                    <tr>
                        <td style="text-align:center">Byte 2</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">bits 0-7 are undefined</td>
                    </tr>
                    <tr>
                        <td style="text-align:center">Byte 3</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">x</td>
                        <td style="text-align:center">0</td>
                        <td style="text-align:center">bits 1-7 are undefined</td>
                    </tr>
                    <tr>
                        <td style="text-align:center"></td>
                        <td style="text-align:center"></td>
                        <td style="text-align:center"></td>
                        <td style="text-align:center"></td>
                        <td style="text-align:center"></td>
                        <td style="text-align:center"></td>
                        <td style="text-align:center"></td>
                        <td style="text-align:center"></td>
                        <td style="text-align:center"></td>
                        <td style="text-align:center">bit 0 - Module diagnostics failure</td>
                    </tr>
                </tbody>
            </table>
            <p><b>Module Configuration Data</b></p>
            <p>Default values are in bold.</p>
            <table>
                <thead>
                <tr>
                <th style="text-align:center">Bytes</th>
                <th style="text-align:center">(MSB) 7</th>
                <th style="text-align:center">6</th>
                <th style="text-align:center">5</th>
                <th style="text-align:center">4</th>
                <th style="text-align:center">3</th>
                <th style="text-align:center">2</th>
                <th style="text-align:center">1</th>
                <th style="text-align:center">0 (LSB)</th>
                <th style="text-align:center">Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                <td style="text-align:center">Byte 0</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">Mode</td>
                <td style="text-align:center">1</td>
                <td style="text-align:center">0</td>
                <td style="text-align:center">Channel 1</td>
                </tr>
                <tr>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"><strong>Bit 0 - Must be &quot;0&quot;</strong></td>
                </tr>
                <tr>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"><strong>Bit 1 - Must be &quot;1&quot;</strong></td>
                </tr>
                <tr>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
                <td style="text-align:center">Bit 2 - Mode: <strong>0 = PWM</strong>, <br></br> 1 = DIR</td>
                </tr>
                <tr>
                <td style="text-align:center">Byte 1</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">Mode</td>
                <td style="text-align:center">1</td>
                <td style="text-align:center">0</td>
                <td style="text-align:center">Channel 2</td>
                </tr>
                <tr>
                <td style="text-align:center">Byte 2</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">Mode</td>
                <td style="text-align:center">1</td>
                <td style="text-align:center">0</td>
                <td style="text-align:center">Channel 3</td>
                </tr>
                <tr>
                <td style="text-align:center">Byte 3</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">x</td>
                <td style="text-align:center">Mode</td>
                <td style="text-align:center">1</td>
                <td style="text-align:center">0</td>
                <td style="text-align:center">Channel 4</td>
                </tr>
                </tbody>
                </table>
                <p><i>Note: Bits 0 and 1 must be set to &quot;0&quot; and &quot;1&quot; respectively for each config byte on the P1-04PWM.</i></p>                
        </div>
        <div class="image-box">
            <img src="P1-04PWM_STRAIGHTON.png">
            <div class="line"></div>
            <p><b>Rated Voltage: </b>5-24V Open Drain Sinking or Sourcing<br>
                <b>Frequency: </b>0-20kHz<br>
                <b>Example: </b><a
                    href="https://github.com/facts-engineering/P1AM/blob/master/examples/Basic/ReadTemperature/ReadTemperature.ino">PWMOutput</a>
            </p>

            <a href="https://cdn.automationdirect.com/static/specs/P1-04PWM.pdf">Data Sheet<br></a>
            <a
                href="https://www.automationdirect.com/adc/shopping/catalog/programmable_controllers/productivity_series_controllers/productivity1000_(stackable_micro_plc)/specialty_modules/p1-04pwm">P1-04PWM
                on Automation Direct</a>
        </div>
    </div>
</body>

</html>